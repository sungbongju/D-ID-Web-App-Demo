<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>70대는 아직 젊다 - 스텝레더를 이용한 운동</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            background: #f8f9fa;
            border-bottom: 3px solid #667eea;
            overflow-x: auto;
        }

        .tab-button {
            padding: 15px 20px;
            background: #e9ecef;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #495057;
            transition: all 0.3s;
            border-right: 1px solid #dee2e6;
            white-space: nowrap;
        }

        .tab-button:hover {
            background: #dee2e6;
        }

        .tab-button.active {
            background: #667eea;
            color: white;
        }

        .tab-content {
            display: none;
            padding: 40px;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide {
            min-height: 500px;
        }

        .slide h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 30px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .slide h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }

        .slide p, .slide li {
            line-height: 1.8;
            color: #495057;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .slide ul {
            list-style-position: inside;
            margin-left: 20px;
        }

        .slide ol {
            list-style-position: inside;
            margin-left: 20px;
        }

        .box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .box h3 {
            color: white;
            margin-bottom: 15px;
        }

        .box h4 {
            color: white;
            margin-bottom: 10px;
        }

        .box p, .box li {
            color: white;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .card h4 {
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .highlight {
            background: #fff3cd;
            padding: 20px;
            border-left: 5px solid #ffc107;
            border-radius: 5px;
            margin: 20px 0;
        }

        .cover {
            text-align: center;
            padding: 60px 40px;
        }

        .cover h1 {
            font-size: 3em;
            color: #667eea;
            margin-bottom: 30px;
        }

        .cover h2 {
            font-size: 2em;
            color: #764ba2;
            margin-bottom: 40px;
            border: none;
        }

        .cover p {
            font-size: 1.2em;
            color: #6c757d;
            margin: 10px 0;
        }

        /* AI Agent Container */
        .ai-agent-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            width: 400px;
        }

        .ai-agent-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 600;
        }

        #aiVideo {
            width: 100%;
            height: auto;
            display: block;
            background: #000;
        }

        .agent-status {
            padding: 10px;
            text-align: center;
            font-size: 0.9em;
            color: #666;
        }

        .status-online {
            color: #28a745;
            font-weight: 600;
        }

        .status-offline {
            color: #dc3545;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .tab-button {
                font-size: 12px;
                padding: 12px 15px;
            }
            
            .slide h2 {
                font-size: 1.5em;
            }
            
            .cover h1 {
                font-size: 2em;
            }

            .ai-agent-container {
                width: 300px;
                bottom: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>70대는 아직 젊다</h1>
            <p>스텝레더를 이용한 노인 운동 프로그램</p>
        </div>

        <div class="tabs" id="tabButtons"></div>

        <div id="tabContents">
            <!-- Tab 1 - 표지 -->
            <div id="tab1" class="tab-content active">
                <div class="slide cover">
                    <h1>70대는 아직 젊다</h1>
                    <h2>- 스텝레더를 이용한 운동 -</h2>
                    <p><strong>팀명: 꼼빛 차티시엘</strong></p>
                    <br>
                    <p>조장: 20237515 최재원</p>
                    <p>조원: 20237488 이승준</p>
                    <p>조원: 20237521 안도현</p>
                    <p>조원: 20237528 이요한</p>
                </div>
            </div>

            <!-- Tab 2 - 목차 -->
            <div id="tab2" class="tab-content">
                <div class="slide">
                    <h2>목차</h2>
                    <div class="grid">
                        <div class="card">
                            <h4>1. 프로그램 설계 원리 및 목표</h4>
                        </div>
                        <div class="card">
                            <h4>2. 운동 소개 1</h4>
                            <ul>
                                <li>스텝 레더 운동 소개</li>
                                <li>스텝 레더 운동의 유용성 1</li>
                                <li>스텝 레더 운동의 유용성 2</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4>3. 반복 숙달을 통한 절차기억의 이해</h4>
                            <ul>
                                <li>절차기억이란</li>
                                <li>절차기억의 일반화</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4>4. 스텝 레더 이중과제 제시</h4>
                            <ul>
                                <li>이중 과제운동의 원리</li>
                                <li>인지 기능의 종류</li>
                                <li>스텝 레더 이중과제 적용</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4>5. 운동 소개 2</h4>
                            <ul>
                                <li>공 던지고 잡기 훈련</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4>6. 운동 프로그램 소개</h4>
                            <ul>
                                <li>통합 트레이닝</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 3 - 프로그램 설계 -->
            <div id="tab3" class="tab-content">
                <div class="slide">
                    <h2>프로그램 설계 원리 및 목표</h2>
                    
                    <div class="box">
                        <h3>"절대 노인을 과소평가하지 않는다"</h3>
                        <p>꼼빛 차티시엘은 노인의 뇌 기능과 신체능력을 향상시켜 프로그램 이후 어떠한 환경에서도 독립적인 생활을 할 수 있게 하는 것을 목표로 합니다.</p>
                    </div>

                    <div class="grid">
                        <div class="card">
                            <h4>01 신체는 시스템이다</h4>
                            <ul>
                                <li>신체는 <strong>반복</strong>될 때 기억</li>
                                <li>사용하지 않으면 <strong>퇴화</strong></li>
                                <li>근육뿐 아니라 <strong>뇌</strong>도 마찬가지</li>
                                <li>체계적인 접근이 필요</li>
                            </ul>
                        </div>
                        
                        <div class="card">
                            <h4>02 반복을 통한 장기 기억 형성</h4>
                            <ul>
                                <li><strong>절차기억</strong> 형성에 집중</li>
                                <li>일상생활 동작 <strong>반복 훈련</strong></li>
                                <li>정확하고 <strong>점진적인 반복</strong></li>
                                <li>몸이 기억하는 <strong>패턴 형성</strong></li>
                            </ul>
                        </div>
                        
                        <div class="card">
                            <h4>03 인지 기능 향상</h4>
                            <ul>
                                <li><strong>점진적으로 복잡한</strong> 운동을 제시</li>
                                <li>지각-운동 기술 향상</li>
                                <li>신경가소성 증진</li>
                                <li>사회인지 증진</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 나머지 탭들... (동일하게 유지) -->
            <div id="tab4" class="tab-content">
                <div class="slide">
                    <h2>스텝 레더 운동 소개</h2>
                    <div class="box">
                        <h3>스텝 레더의 정의 및 기본 원리</h3>
                        <ul>
                            <li>바닥에 놓인 사다리 모양의 도구</li>
                            <li>일정한 간격의 공간을 밟거나 넘어가며 <strong>체중이동</strong>을 이용한 순발력, 민첩성, <strong>균형감각 향상</strong></li>
                            <li>노인에게는 빠른 동작보다 <strong>체중 이동과 제어에 집중</strong></li>
                        </ul>
                    </div>
                    <div class="box">
                        <h3>체중이동 운동의 필요성</h3>
                        <ul>
                            <li>저·중 강도의 <strong>단일 저항운동</strong> 및 <strong>걷기</strong>는 낙상 예방 효과가 불확실함</li>
                            <li>체중 부하, 체중이동, 발 디딤 훈련이 필요</li>
                            <li>연구 결과 <strong>낙상률 23% 감소</strong>, <strong>낙상 경험률 15% 감소</strong></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="tab14" class="tab-content">
                <div class="slide cover">
                    <h1>감사합니다</h1>
                    <h2>- 꼼빛 차티시엘 -</h2>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Agent Container -->
    <div class="ai-agent-container">
        <div class="ai-agent-header">
            AI 설명 아바타
        </div>
        <video id="aiVideo" autoplay playsinline></video>
        <div class="agent-status">
            <span id="agentStatus">연결 중...</span>
        </div>
    </div>

    <script>
        // Tab 데이터
        const tabData = [
            { id: 'tab1', label: '표지', message: '안녕하세요. 70대는 아직 젊다 프로그램에 오신 것을 환영합니다.' },
            { id: 'tab2', label: '목차', message: '목차를 보여드리겠습니다. 이 프로그램은 프로그램 설계 원리, 스텝 레더 운동 소개, 절차기억의 이해, 이중과제 운동, 그리고 통합 프로그램으로 구성되어 있습니다.' },
            { id: 'tab3', label: '프로그램 설계', message: '프로그램 설계 원리를 설명드립니다. 우리는 노인을 절대 과소평가하지 않습니다.' },
            { id: 'tab4', label: '스텝 레더 소개', message: '스텝 레더 운동을 소개합니다. 낙상률 23퍼센트 감소 효과가 있습니다.' },
            { id: 'tab14', label: '감사합니다', message: '발표를 마치겠습니다. 경청해 주셔서 감사합니다.' }
        ];

        // 전역 변수
        let agentInstance = null;
        const videoElement = document.getElementById('aiVideo');
        const statusElement = document.getElementById('agentStatus');

        // 탭 버튼 생성
        const tabButtonsContainer = document.getElementById('tabButtons');
        tabData.forEach((tab, index) => {
            const button = document.createElement('button');
            button.className = 'tab-button' + (index === 0 ? ' active' : '');
            button.textContent = tab.label;
            button.onclick = (e) => openTab(tab.id, tab.message, e);
            tabButtonsContainer.appendChild(button);
        });

        // 탭 전환 함수
        function openTab(tabId, message, event) {
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }

            const tabButtons = document.getElementsByClassName('tab-button');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }

            document.getElementById(tabId).classList.add('active');
            event.currentTarget.classList.add('active');

            // AI에게 메시지 전송
            if (agentInstance && message) {
                try {
                    agentInstance.chat({ messages: [message] });
                } catch (error) {
                    console.error('Chat error:', error);
                }
            }
        }

        // D-ID Agent 초기화 (CDN 방식)
        async function initAgent() {
            try {
                statusElement.textContent = '초기화 중...';
                
                // D-ID Agents SDK가 로드될 때까지 대기
                if (typeof window.agents === 'undefined') {
                    await new Promise((resolve) => {
                        const checkInterval = setInterval(() => {
                            if (typeof window.agents !== 'undefined') {
                                clearInterval(checkInterval);
                                resolve();
                            }
                        }, 100);
                    });
                }

                const agent = window.agents.createAgent({
                    agentId: 'v2_agt_UcvqQ_-y',
                    auth: {
                        type: 'key',
                        clientKey: 'Z29vZ2xlLW9hdXRoMnwxMTI3NjQ3MzA0NTM3NjA0MTgyMTI6d01EN0x6bFFFMmlZSk9nUHNacXll'
                    }
                });

                agent.on('stream_ready', (stream) => {
                    videoElement.srcObject = stream;
                    statusElement.textContent = '온라인';
                    statusElement.className = 'status-online';
                });

                agent.on('disconnected', () => {
                    statusElement.textContent = '연결 끊김';
                    statusElement.className = 'status-offline';
                });

                agent.on('error', (error) => {
                    console.error('Agent error:', error);
                    statusElement.textContent = '오류 발생';
                    statusElement.className = 'status-offline';
                });

                await agent.connect();
                agentInstance = agent;

            } catch (error) {
                console.error('Agent initialization error:', error);
                statusElement.textContent = '초기화 실패 - API 키를 확인해주세요';
                statusElement.className = 'status-offline';
            }
        }

        // D-ID SDK 스크립트 로드
        const script = document.createElement('script');
        script.src = 'https://cdn.d-id.com/agents/index.js';
        script.type = 'module';
        script.onload = () => {
            console.log('D-ID SDK loaded');
            // SDK 로드 후 약간의 지연을 두고 초기화
            setTimeout(initAgent, 500);
        };
        script.onerror = () => {
            console.error('Failed to load D-ID SDK');
            statusElement.textContent = 'SDK 로드 실패';
            statusElement.className = 'status-offline';
        };
        document.head.appendChild(script);
    </script>
</body>
</html>
